{% extends 'menu/base_menu.html' %}

{% block title %}{{ category.name }} - Niky's Coffee Hub{% endblock %}
{% block header_title %}{{ category.name }}{% endblock %}

{% block content %}

<h2>{{ category.name }}</h2>

<p style="margin-bottom: 1.5rem;">
    Estás viendo todos los productos de la categoría <b>{{ category.name }}</b>.
</p>

<div class="product-grid">
    {% for p in products %}
        <div class="product-card">
            {% if p.image %}
                <img src="{{ p.image.url }}" alt="{{ p.name }}" class="product-image">
            {% else %}
                <div class="product-image"></div>
            {% endif %}
            <div class="product-info">
                <div class="product-name">{{ p.name }}</div>
                <div class="product-price">${{ p.price }}</div>
                <p style="margin: 0.5rem 0 1rem 0;">{{ p.description|default:"Deliciosa opción de esta categoría." }}</p>
                <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                    <a href="{% url 'menu_product_detail' p.id %}" class="btn btn-secondary btn-small">Ver</a>
                    <a href="{% url 'agregar_a_bandeja' p.id %}" class="btn btn-primary btn-small">Agregar</a>
                </div>
            </div>
        </div>
    {% empty %}
        <p>No hay productos en esta categoría aún.</p>
    {% endfor %}
</div>

<div style="margin-top: 2rem;">
    <a href="{% url 'menu_home' %}" class="btn btn-secondary">Volver al menú principal</a>
</div>

{% endblock %}
