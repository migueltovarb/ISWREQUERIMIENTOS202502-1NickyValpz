{% extends 'dashboard/base_dashboard.html' %}

{% block title %}Detalle pedido (orders) - Niky's Coffee Hub{% endblock %}
{% block header_title %}Detalle de pedido (orders){% endblock %}

{% block content %}

<h2>Pedido #{{ order.id }}</h2>

<div class="form-container" style="margin-bottom: 2rem;">
    <p><b>Cliente:</b> {{ order.customer_name }} {{ order.customer_lastname }}</p>
    <p><b>Teléfono:</b> {{ order.customer_phone }}</p>
    <p><b>Método de pago:</b> {{ order.get_payment_method_display }}</p>
    <p><b>Código de seguimiento:</b> {{ order.tracking_code }}</p>
    <p>
        <b>Estado:</b>
        {% if order.status == "PENDING" %}
            <span class="badge badge-pending">Pendiente</span>
        {% elif order.status == "PREPARING" %}
            <span class="badge badge-preparing">En preparación</span>
        {% elif order.status == "READY" %}
            <span class="badge badge-ready">Listo</span>
        {% elif order.status == "DELIVERED" %}
            <span class="badge badge-delivered">Entregado</span>
        {% endif %}
    </p>
</div>

<h3>Productos</h3>
<div class="table-container">
    <table>
        <thead>
        <tr>
            <th>Producto</th>
            <th>Cant.</th>
        </tr>
        </thead>
        <tbody>
        {% for item in order.items.all %}
            <tr>
                <td>{{ item.product.name }}</td>
                <td>{{ item.quantity }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<div style="margin-top: 1.5rem;">
    <a href="{% url 'orders_pedidos_list' %}" class="btn btn-secondary">
        Volver a pedidos
    </a>
</div>

{% endblock %}
